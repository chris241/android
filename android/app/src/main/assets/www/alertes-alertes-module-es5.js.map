{"version":3,"sources":["src/app/pages/alertes/alertes.page.html","src/app/pages/alertes/alertes-routing.module.ts","src/app/pages/alertes/alertes.module.ts","src/app/pages/alertes/alertes.page.scss","src/app/pages/alertes/alertes.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-thumbnail id=\\\"logo-thumb\\\" class=\\\"logo\\\" slot=\\\"start\\\" (click)=\\\"retour()\\\">\\n            <img src=\\\"assets/img/vre-3.png\\\">\\n        </ion-thumbnail>\\n        <ion-title>\\n            <!--    {{ 'WELCOME_TITLE' | translate }}, {{account?.firstName}}-->\\n            ALERTES\\n        </ion-title>\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-button id=\\\"notifications\\\" (click)=\\\"goBack()\\\">\\n                <ion-icon slot=\\\"end\\\" size=\\\"large\\\" name=\\\"notifications\\\">\\n                </ion-icon>\\n                <ion-badge *ngIf=\\\"alertes\\\" color=\\\"danger\\\" id=\\\"notif-badge\\\">{{alertes.length}}</ion-badge>\\n            </ion-button>\\n            <ion-button id=\\\"logout\\\">\\n                <ion-icon slot=\\\"end\\\" name=\\\"menu\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <div *ngIf=\\\"alertes\\\">\\n        <ion-card *ngFor=\\\"let alert of alertes\\\" class=\\\"alert-card\\\" [color]='getIconColor(alert)'>\\n            <ion-card-header>\\n                <span>{{alert.title}}</span>\\n\\n            </ion-card-header>\\n            <ion-card-content>\\n\\n                <ion-label>\\n                    <p *ngIf=\\\"contracts[alert.idContract]\\\">\\n                        {{contracts[alert.idContract].tenant.firstName |titlecase}} {{contracts[alert.idContract].tenant.lastName|uppercase}} - {{contracts[alert.idContract].price}} € <br> Du {{contracts[alert.idContract].dateFrom}} à {{contracts[alert.idContract].dateFrom}}\\n                    </p>\\n                    <p *ngIf=\\\"!contracts[alert.idContract]\\\">\\n                        <span class=\\\"erreur\\\">(erreur getContract(id:{{alert.idContract}})) </span><br> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Adipisci obcaecati sequi dignissimos.\\n                    </p>\\n\\n                </ion-label>\\n\\n            </ion-card-content>\\n        </ion-card>\\n    </div>\\n\\n    <div *ngIf=\\\"!alertes\\\">\\n        <p>Chargement...</p>\\n    </div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AlertesPage } from './alertes.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AlertesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AlertesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AlertesPageRoutingModule } from './alertes-routing.module';\n\nimport { AlertesPage } from './alertes.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AlertesPageRoutingModule\n  ],\n  declarations: [AlertesPage]\n})\nexport class AlertesPageModule {}\n","export default \".alert-div {\\n  width: 90%;\\n  height: 100px;\\n  background-color: white;\\n  margin: 2vh auto;\\n  box-shadow: 2px 2px 5px 0px rgba(0, 0, 0, 0.75);\\n  border-radius: 5px;\\n  padding: 5px;\\n}\\n\\nspan {\\n  font-weight: bolder;\\n  font-size: 1.5em;\\n}\\n\\nion-card-header {\\n  padding: 7px 16px;\\n}\\n\\nspan.erreur {\\n  font-style: italic;\\n  font-size: 1em;\\n}\\n\\n.alert-icon {\\n  width: 100%;\\n  height: 100%;\\n  display: inline-block;\\n  margin: auto;\\n}\\n\\n.alert-card {\\n  height: 120px;\\n  width: 90%;\\n  margin: 2vh auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWxlcnRlcy9DOlxcVXNlcnNcXENocmlzXFxNdXNpY1xcVmVyc2UtbWFzdGVyL3NyY1xcYXBwXFxwYWdlc1xcYWxlcnRlc1xcYWxlcnRlcy5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2FsZXJ0ZXMvYWxlcnRlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7RUFHQSwrQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0ksbUJBQUE7RUFDQSxnQkFBQTtBQ0NKOztBREVBO0VBQ0ksaUJBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0VBQ0EsY0FBQTtBQ0NKOztBREVBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxxQkFBQTtFQUNBLFlBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FsZXJ0ZXMvYWxlcnRlcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYWxlcnQtZGl2IHtcbiAgICB3aWR0aDogOTAlO1xuICAgIGhlaWdodDogMTAwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgbWFyZ2luOiAydmggYXV0bztcbiAgICAtd2Via2l0LWJveC1zaGFkb3c6IDJweCAycHggNXB4IDBweCByZ2JhKDAsIDAsIDAsIDAuNzUpO1xuICAgIC1tb3otYm94LXNoYWRvdzogMnB4IDJweCA1cHggMHB4IHJnYmEoMCwgMCwgMCwgMC43NSk7XG4gICAgYm94LXNoYWRvdzogMnB4IDJweCA1cHggMHB4IHJnYmEoMCwgMCwgMCwgMC43NSk7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIHBhZGRpbmc6IDVweDtcbn1cblxuc3BhbiB7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcbiAgICBmb250LXNpemU6IDEuNWVtO1xufVxuXG5pb24tY2FyZC1oZWFkZXIge1xuICAgIHBhZGRpbmc6IDdweCAxNnB4O1xufVxuXG5zcGFuLmVycmV1ciB7XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgIGZvbnQtc2l6ZTogMWVtO1xufVxuXG4uYWxlcnQtaWNvbiB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBtYXJnaW46IGF1dG87XG59XG5cbi5hbGVydC1jYXJkIHtcbiAgICBoZWlnaHQ6IDEyMHB4O1xuICAgIHdpZHRoOiA5MCU7XG4gICAgbWFyZ2luOiAydmggYXV0bztcbn1cbiIsIi5hbGVydC1kaXYge1xuICB3aWR0aDogOTAlO1xuICBoZWlnaHQ6IDEwMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgbWFyZ2luOiAydmggYXV0bztcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAycHggMnB4IDVweCAwcHggcmdiYSgwLCAwLCAwLCAwLjc1KTtcbiAgLW1vei1ib3gtc2hhZG93OiAycHggMnB4IDVweCAwcHggcmdiYSgwLCAwLCAwLCAwLjc1KTtcbiAgYm94LXNoYWRvdzogMnB4IDJweCA1cHggMHB4IHJnYmEoMCwgMCwgMCwgMC43NSk7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgcGFkZGluZzogNXB4O1xufVxuXG5zcGFuIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcbiAgZm9udC1zaXplOiAxLjVlbTtcbn1cblxuaW9uLWNhcmQtaGVhZGVyIHtcbiAgcGFkZGluZzogN3B4IDE2cHg7XG59XG5cbnNwYW4uZXJyZXVyIHtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xuICBmb250LXNpemU6IDFlbTtcbn1cblxuLmFsZXJ0LWljb24ge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIG1hcmdpbjogYXV0bztcbn1cblxuLmFsZXJ0LWNhcmQge1xuICBoZWlnaHQ6IDEyMHB4O1xuICB3aWR0aDogOTAlO1xuICBtYXJnaW46IDJ2aCBhdXRvO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\n\nimport { DomSanitizer, SafeUrl } from \"@angular/platform-browser\";\n\nimport { Location } from \"@angular/common\";\n\nimport { AlertClientService } from \"@trixprod/api-verse-real-estate/api/alertClient.service\";\nimport { ContractClientService } from \"@trixprod/api-verse-real-estate/api/contractClient.service\";\n\nimport { AlertDto } from \"@trixprod/api-verse-real-estate/model/alertDto\";\nimport { ContractDto } from \"@trixprod/api-verse-real-estate/model/contractDto\";\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-alertes',\n  templateUrl: './alertes.page.html',\n  styleUrls: ['./alertes.page.scss'],\n})\nexport class AlertesPage implements OnInit {\n\n  alertes: AlertDto[];\n  contracts: ContractDto[];\n\n  constructor(private alertClientService: AlertClientService, private route: Router, private _location: Location, private contractClientService: ContractClientService) { }\n\n  private getContracts(): void {\n    this.contracts = new Array(this.alertes.length);\n    for (let i = 0; i < this.alertes.length; i++) {\n      this.contractClientService.getContract(this.alertes[i].idContract.toString()).subscribe(\n        contract => {\n          this.contracts[i] = contract.contract;\n        }\n      )\n    }\n  }\n\n  ngOnInit() {\n    this.alertClientService.getAlertsList().subscribe(\n      liste => {\n        this.alertes = liste.alerts;\n        this.getContracts();\n      }\n    );\n  }\n\n  getIconColor(alert: AlertDto): string {\n    if (alert.severity === 'high') return 'danger';\n    if (alert.severity === 'medium') return 'warning';\n    return 'dark';\n\n  }\n  goBack(): void {\n    this._location.back();\n  }\n  retour() {\n    this.route.navigate(['tabs/appartements']);\n  }\n  logout(): void {\n\n  }\n}\n"],"sourceRoot":"webpack:///","file":"alertes-alertes-module-es5.js"}